[
["index.html", "biggr Chapter 1 About the biggr Package 1.1 WARNING", " biggr Freddy Drennan 2019-05-03 Chapter 1 About the biggr Package My vision for this package has somewhat grown from what I intended to what it is today. At first, my intention was just to make some convenience functions for dealing with AWS, but what I soon realized is that there is a lot of potential for more sophisticated tools once these pieces are in place. For example, you can spin up an EC2 server with the ec2_instance_create function. That function has a useful parameter in it, user_data. With that parameter, you can send a shell script to run while the server is starting up. Most will go ahead and log into the server, install packages, databases, Rstudio Server, GPU Support, PostrgreSQL, etc. This is not always intuitive or easy. Especially for the beginner. My hope is I can take this burden from a lot of people and do it all in advance. Most people know what they want, but aren’t familiar with all the technical pieces of the puzzle. This package is only about two weeks old, so a lot of features are in their infancy. But will go ahead and jump right in. 1.1 WARNING This package uses AWS which is not a free service. You assume all costs associated and should do your research about what you are requesting. I’m not picking up the bill. "],
["installation.html", "Chapter 2 Installation 2.1 Authentication with AWS", " Chapter 2 Installation Before we can do anything, we need to install the package. The package is currently located on my github page. If you have it installed devtools, please run install.packages(“devtools”). devtools::install_github(&#39;fdrennan/biggr&#39;) ## Skipping install of &#39;biggr&#39; from a github remote, the SHA1 (df3eea69) has not changed since last install. ## Use `force = TRUE` to force installation Once this is complete, we will use two packages. biggr and reticulate. For more on reticulate, visit Rstudio. library(biggr) library(reticulate) Next use the install_python and choose an environment name to install the package. By default, R uses the virtual environment r_reticulate. You can use this environment or specify a different name. I will use a different name below. My understanding is that if you do not specify the environment, each time you load up R you will not have to specify which environment to use because R uses r_reticulate by default. *You can also use Conda by specifying method = conda. The insides of the function are directly below. install_python ## function (method = &quot;auto&quot;, conda = &quot;auto&quot;, envname = &quot;r_reticulate&quot;) ## { ## reticulate::py_install(&quot;scipy&quot;, method = method, conda = conda, ## envname = envname) ## reticulate::py_install(&quot;awscli&quot;, method = method, conda = conda, ## envname = envname) ## reticulate::py_install(&quot;boto3&quot;, method = method, conda = conda, ## envname = envname) ## } ## &lt;bytecode: 0x7fc02dbe82e0&gt; ## &lt;environment: namespace:biggr&gt; Here we create a virtual environment named biggr. install_python(envname = &#39;biggr&#39;) Next we go ahead and set which environment we want to use. use_virtualenv(&#39;biggr&#39;) Here we verify that we are in fact using the correct environment. py_config() ## python: /Users/digitalfirstmedia/.virtualenvs/biggr/bin/python ## libpython: /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/config/libpython2.7.dylib ## pythonhome: /System/Library/Frameworks/Python.framework/Versions/2.7:/System/Library/Frameworks/Python.framework/Versions/2.7 ## virtualenv: /Users/digitalfirstmedia/.virtualenvs/biggr/bin/activate_this.py ## version: 2.7.10 (default, Aug 17 2018, 19:45:58) [GCC 4.2.1 Compatible Apple LLVM 10.0.0 (clang-1000.0.42)] ## numpy: /Users/digitalfirstmedia/.virtualenvs/biggr/lib/python2.7/site-packages/numpy ## numpy_version: 1.16.3 ## scipy: /Users/digitalfirstmedia/.virtualenvs/biggr/lib/python2.7/site-packages/scipy ## ## python versions found: ## /Users/digitalfirstmedia/.virtualenvs/biggr/bin/python ## /Users/digitalfirstmedia/.virtualenvs/r-reticulate/bin/python ## /usr/bin/python ## /usr/local/bin/python ## /usr/local/bin/python3 ## /Users/digitalfirstmedia/.virtualenvs/biggr_env/bin/python ## /Users/digitalfirstmedia/.virtualenvs/py3-virtualenv/bin/python ## /Users/digitalfirstmedia/.virtualenvs/r_reticulate/bin/python ## /Users/digitalfirstmedia/.virtualenvs/r-tensorflow/bin/python ## /Users/digitalfirstmedia/.virtualenvs/venv/bin/python ## /Users/digitalfirstmedia/.virtualenvs/voicecode/bin/python ## /anaconda3/envs/r-tensorflow/bin/python ## /Users/digitalfirstmedia/.talon/bin/python 2.1 Authentication with AWS Next we set permissions. The credentials you see below are no longer working. But they are exactly like what you would be looking for. You need to go to the AWS console and create a user which has access. I created an administrator. This will set the environment variables for the underlying aws command line interface. configure_aws(aws_access_key_id = &quot;AKIAWEUHS5MESHLNKLXI&quot;, aws_secret_access_key = &quot;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&quot;, default.region = &quot;us-east-2&quot;) Then finally we verify that the package is in fact working in talking to Python as well as AWS. s3_list_buckets() ## # A tibble: 4 x 2 ## name creation_date ## &lt;chr&gt; &lt;chr&gt; ## 1 couch-dog-photos 2019-03-08 04:45:05+00:00 ## 2 fdrennanunittest 2019-05-02 21:15:04+00:00 ## 3 freddydbucket 2019-05-03 05:46:19+00:00 ## 4 kerasmods 2019-01-29 20:47:11+00:00 "],
["boto3-and-python.html", "Chapter 3 boto3 and Python", " Chapter 3 boto3 and Python This package is built off of boto and reticulate. Once you have successfully installed biggr, you immediately have complete access to AWS, though in a somewhat complicated form. Let’s send ourselves a text message. library(biggr) library(reticulate) library(tidyverse) Use the boto3 function to gain access to the underlying Python module. boto = boto3() Following the tutorial located here, we see how incredibly powerful this package could be. More or less, to write Python in R all you need to do is replace the .’s with $’s However it’s good to know type conversion between the two languages. This is taken from the reticulate documentation. Client is the lowest level within the boto module, read more about it here for sns. client &lt;- boto$client(&#39;sns&#39;, region_name=&#39;us-east-1&#39;) response &lt;- client$publish( PhoneNumber=&quot;+15555555555&quot;, Message=&quot;Hello World!!!!&quot; ) The AWS responses are pretty dirty. This is one of the issues I’m working on. We can take the response and clean it up for others. response ## $ResponseMetadata ## $ResponseMetadata$RetryAttempts ## [1] 0 ## ## $ResponseMetadata$HTTPStatusCode ## [1] 200 ## ## $ResponseMetadata$RequestId ## [1] &quot;ba8e583b-c841-5296-8eef-0d7d70961d83&quot; ## ## $ResponseMetadata$HTTPHeaders ## $ResponseMetadata$HTTPHeaders$`x-amzn-requestid` ## [1] &quot;ba8e583b-c841-5296-8eef-0d7d70961d83&quot; ## ## $ResponseMetadata$HTTPHeaders$date ## [1] &quot;Fri, 03 May 2019 21:45:59 GMT&quot; ## ## $ResponseMetadata$HTTPHeaders$`content-length` ## [1] &quot;294&quot; ## ## $ResponseMetadata$HTTPHeaders$`content-type` ## [1] &quot;text/xml&quot; ## ## ## ## $MessageId ## [1] &quot;6614a0c6-dc61-5ca6-9987-f58064b653b3&quot; While this is simplified, an R user will find this much more intuitive. send_sms &lt;- function(phone_number = NA, message = &quot;Hello World!&quot;, region = &quot;us-east-1&quot;, message_aws = FALSE) { client &lt;- boto$client(&#39;sns&#39;, region_name=region) phone_number &lt;- paste0(&quot;+&quot;, phone_number) response &lt;- client$publish( PhoneNumber = phone_number, Message = message ) if(message_aws) { return(response) } else { return(TRUE) } } Doesn’t this just seem a lot better? Wrapping up the most useful parts of Python code into R is the first step. send_sms(phone_number = 15555555555, message = &quot;Hi, how are you?&quot;) ## [1] TRUE "],
["references.html", "References", " References "]
]
